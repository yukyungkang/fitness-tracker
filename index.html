<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>90일 다이어트 플랜</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="module" src="script.js" defer></script>
</head>
<body>

<header>
  <h1>90일 다이어트 플랜</h1>
  <div>
    <button id="loginBtn">Google 로그인</button>
    <button id="logoutBtn" style="display:none;">로그아웃</button>
  </div>
  <p id="userInfo"></p>
</header>

<nav>
  <button class="tab-btn active" data-tab="guide">가이드</button>
  <button class="tab-btn" data-tab="plan">플랜</button>
  <button class="tab-btn" data-tab="weight">체중 기록</button>
  <button class="tab-btn" data-tab="stats">통계</button>
  <button class="tab-btn" data-tab="settings">설정</button>
</nav>

<!-- Toast 알림 -->
<div id="toastContainer"></div>

<!-- 가이드 -->
<section id="guide" class="active">
  <h2>주기 기반 다이어트 가이드</h2>
  <div class="card-container">
    <div class="card red"><h3>월경기</h3><p>저강도</p><ul><li>스트레칭</li><li>걷기</li></ul></div>
    <div class="card green"><h3>여포기</h3><p>중강도</p><ul><li>인클라인 걷기</li><li>IMPT 루틴</li></ul></div>
    <div class="card yellow"><h3>배란기</h3><p>고강도</p><ul><li>빠른 걷기</li><li>IMPT + 코어</li></ul></div>
    <div class="card purple"><h3>황체기</h3><p>중강도 유지</p><ul><li>인클라인 걷기</li><li>IMPT 루틴</li></ul></div>
  </div>
</section>

<!-- 플랜 -->
<section id="plan">
  <h2>90일 다이어트 플랜</h2>
  <div class="progress-container">
    <p>전체 진행률: <span id="progressText">0%</span></p>
    <div class="progress-bar"><div id="progressFill"></div></div>
  </div>
  <table>
    <thead>
      <tr><th>Day</th><th>날짜</th><th>주기</th><th>아침 유산소</th><th>저녁 홈트</th><th>아침 완료</th><th>저녁 완료</th></tr>
    </thead>
    <tbody id="planTable"></tbody>
  </table>
</section>

<!-- 체중 기록 -->
<section id="weight">
  <h2>체중 기록</h2>
  <div class="goal-info">
    목표: <span id="goalWeightDisplay">-</span>kg / 현재: <span id="currentWeightDisplay">-</span>kg / 남은: <span id="remainingWeightDisplay">-</span>kg
  </div>
  <input type="date" id="dateInput">
  <input type="number" id="weightInput" placeholder="체중 (kg)">
  <button id="addWeightBtn">추가</button>
  <table>
    <thead><tr><th>날짜</th><th>체중</th></tr></thead>
    <tbody id="weightTable"></tbody>
  </table>
</section>

<!-- 통계 -->
<section id="stats">
  <h2>체중 & 운동 통계</h2>
  <canvas id="weightChart"></canvas>
  <h3>운동 완료율</h3>
  <canvas id="workoutChart"></canvas>
</section>

<!-- 설정 -->
<section id="settings">
  <h2>설정</h2>
  <label>이전 생리 시작일:</label>
  <input type="date" id="prevPeriodStart"><br><br>
  <label>마지막 생리 시작일:</label>
  <input type="date" id="periodStart"><br><br>
  <p>평균 주기: <span id="avgCycleDisplay">28</span>일</p><br>
  <label>평균 주기 (일):</label>
  <input type="number" id="cycleLength" value="28"><br><br>
  <label>월경기 길이 (일):</label>
  <input type="number" id="menstrualLength" value="5"><br><br>
  <label>목표 체중 (kg):</label>
  <input type="number" id="goalWeight" value="60"><br><br>
  <button id="saveSettingsBtn">저장</button>
  <h3>이전 설정 기록</h3>
  <div id="settingsHistoryList"></div>
</section>

</body>
</html>
